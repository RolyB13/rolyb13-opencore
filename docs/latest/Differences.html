<!DOCTYPE html> 
<html lang="en-US" xml:lang="en-US" > 
<head><title>Differences</title> 
<meta  charset="utf-8" /> 
<meta name="generator" content="TeX4ht (http://www.tug.org/tex4ht/)" /> 
<meta name="viewport" content="width=device-width,initial-scale=1" /> 
<link rel="stylesheet" type="text/css" href="Differences.css" /> 
<meta name="src" content="Differences.tex" /> 
<link rel="stylesheet" type="text/css" href="../main.css" /></head><body 
><div class="center" 
>
<!--l. 142--><p class="noindent" >
</p><!--l. 149--><p class="noindent" > <img 
src="Logos/Logo-.png" alt="PIC"  
width="160" height="160"  />
</p><!--l. 153--><p class="noindent" >OpenCore
</p><!--l. 157--><p class="noindent" >Reference Manual (0.6<span class="sout">.6</span><span class="uwave">.7</span>)
</p><!--l. 161--><p class="noindent" >[2021.02.13]
</p><!--l. 169--><p class="noindent" >Copyright ©2018-2021 vit9696
</p>
</div>
                                                                                                  
                                                                                                  
     <li class="itemize">boot <br 
class="newline" />Duet bootstrap loader, which initialises UEFI environment on legacy BIOS firmware and loads OpenCore.efi
     similarly to other bootstrap loaders. Modern Duet bootstrap loader will default to OpenCore.efi on the same
     partition when present.
     </li>
     <li class="itemize">ACPI <br 
class="newline" />Directory used for storing supplemental ACPI information for ?? section.
     </li>
     <li class="itemize">Drivers <br 
class="newline" />Directory used for storing supplemental UEFI drivers for ?? section.
     </li>
     <li class="itemize">Kexts <br 
class="newline" />Directory used for storing supplemental kernel information for ?? section.
     </li>
     <li class="itemize">Resources <br 
class="newline" />Directory  used  for  storing  media  resources,  such  as  audio  files  for  screen  reader  support.  See  <a 
href="#x1-700008">UEFI Audio
     Properties</a> section for more details. This directory also contains image files for graphical user interface. See ??
     section for more details.
     </li>
     <li class="itemize">Tools <br 
class="newline" />Directory used for storing supplemental tools.
     </li>
     <li class="itemize">OpenCore.efi <br 
class="newline" />Main booter application responsible for operating system loading. The directory OpenCore.efi resides is called
     the root directory. By default root directory is set to EFI\OC, however, when launching OpenCore.efi
     directly or through a custom launcher, other directories containing OpenCore.efi can also be supported.
     </li>
     <li class="itemize">config.plist <br 
class="newline" />OC Config.
     </li>
     <li class="itemize">vault.plist <br 
class="newline" />Hashes for all files potentially loadable by OC Config.
     </li>
     <li class="itemize">vault.sig <br 
class="newline" />Signature for vault.plist.
     </li>
     <li class="itemize">SysReport <br 
class="newline" />Directory containing system reports generated by SysReport option.
     </li>
     <li class="itemize">nvram.plist <br 
class="newline" />OpenCore variable import file.
     </li>
     <li class="itemize">opencore-YYYY-MM-DD-HHMMSS.txt <br 
class="newline" />OpenCore log file.
     </li>
     <li class="itemize">panic-YYYY-MM-DD-HHMMSS.txt <br 
class="newline" />Kernel panic log file.</li></ul>
<!--l. 619--><p class="noindent" >Note: It is not guaranteed that paths longer than OC_STORAGE_SAFE_PATH_MAX (128 characters including <span class="uwave">the
</span><br 
class="newline" />0-terminator) will be accessible within OpenCore.
<a 
 id="x1-9001r10"></a>
</p>
<h4 class="subsectionHead"><span class="titlemark">3.2   </span> <a 
 id="x1-100002"></a>Installation and Upgrade</h4>
<!--l. 625--><p class="noindent" >To install OpenCore<span class="sout">reflect </span><span class="uwave">, replicate </span>the ?? described in the previous section on a EFI volume of a GPT partition. While
corresponding sections of this document do provide some information regarding external resources such as ACPI tables, UEFI
drivers, or kernel extensions (kexts), completeness of the matter is out of the scope of this document. Information about kernel
                                                                                                  
                                                                                                  
extensions may be found in a separate <a 
href="https://github.com/acidanthera/OpenCorePkg/blob/master/Docs/Kexts.md" >Kext List</a> document available in <span class="uwave">the </span>OpenCore repository. Vaulting information is
provided in <span class="uwave">the </span>?? section of this document.
</p><!--l. 637--><p class="noindent" ><span class="uwave">The </span>OC config <span class="sout">, just like any property lists </span><span class="uwave">file, as with any property list file, </span>can be edited with any <span class="sout">stock textual editor (e.g.
nano , vim), but </span><span class="uwave">text editor such as nano and vim. However, </span>specialised software may provide <span class="uwave">a </span>better experience. On macOS<span class="uwave">,
</span>the preferred GUI application is <a 
href="https://developer.apple.com/xcode" >Xcode</a>. For a lightweight cross-platform and open-source alternative<span class="uwave">, the </span><a 
href="https://github.com/corpnewt/ProperTree" >ProperTree</a> editor
can be utilised.
</p><!--l. 645--><p class="noindent" >For BIOS booting<span class="uwave">, </span>a third-party UEFI environment provider will have to be used. OpenDuetPkg is one of the known UEFI
environment providers for legacy systems. To run OpenCore on such a legacy system, OpenDuetPkg can be installed with a
dedicated tool — BootInstall (bundled with OpenCore). <a 
href="https://github.com/corpnewt/gibMacOS" >Third-party utilities</a> can be used to perform this on systems other
than macOS.
</p><!--l. 652--><p class="noindent" >For upgrade purposes<span class="sout">refer to </span><span class="uwave">, refer to the </span>Differences.pdf document <span class="sout">, providing the information about the changes affecting
the configuration </span><span class="uwave">which provides information about changes to the configuration as </span>compared to the previous release <span class="sout">, and </span><span class="uwave">as
well as to the </span>Changelog.md document, <span class="sout">containing the </span><span class="uwave">which contains a </span>list of modifications across all published
updates.
<a 
 id="x1-10001r11"></a>
</p>
<h4 class="subsectionHead"><span class="titlemark">3.3   </span> <a 
 id="x1-110003"></a>Contribution</h4>
<!--l. 661--><p class="noindent" >OpenCore can be compiled as an ordinary <a 
href="https://github.com/tianocore/tianocore.github.io/wiki/EDK-II" >EDK II</a> package. Since <a 
href="https://github.com/tianocore/tianocore.github.io/wiki/UDK" >UDK</a> development was abandoned by TianoCore, OpenCore
requires the use of <a 
href="https://github.com/tianocore/tianocore.github.io/wiki/EDK-II#stable-tags" >EDK II Stable</a>. <span class="sout">Currently </span><span class="uwave">The currently </span>supported EDK II release is hosted in <a 
href="https://github.com/acidanthera/audk" >acidanthera/audk</a>. <span class="sout">The
required patches for the package are present in </span><span class="uwave">Required patches for this package can be found in the </span>Patches
directory.
</p><!--l. 671--><p class="noindent" >The only officially supported toolchain is XCODE5. Other toolchains might work <span class="sout">, </span>but are neither supported <span class="sout">,
</span>nor recommended. <span class="sout">Contribution </span><span class="uwave">Contributions </span>of clean patches <span class="sout">is </span><span class="uwave">are </span>welcome. Please do follow <a 
href="https://github.com/tianocore/tianocore.github.io/wiki/Code-Style-C" >EDK II C
Codestyle</a>.
</p><!--l. 676--><p class="noindent" >To compile with XCODE5, besides <a 
href="https://developer.apple.com/xcode" >Xcode</a>, <span class="sout">one </span><span class="uwave">users </span>should also install <a 
href="https://www.nasm.us" >NASM</a> and <a 
href="https://github.com/acidanthera/ocbuild/tree/master/external" >MTOC</a>. The latest Xcode version is
recommended for use despite the toolchain name. <span class="sout">Example command sequence may look </span><span class="uwave">An example command sequence is </span>as
follows:
</p>
<!--l. 683-->
<a 
 id="x1-11001r1"></a>
<a 
 id="x1-11002"></a>
<div class="lstlisting" id="listing-1"><span class="label"><a 
 id="x1-11003r1"></a></span>git clone --depth=1 https://github.com/acidanthera/audk UDK <br /><span class="label"><a 
 id="x1-11004r2"></a></span>cd UDK <br /><span class="label"><a 
 id="x1-11005r3"></a></span>git submodule update --init --recommend-shallow <br /><span class="label"><a 
 id="x1-11006r4"></a></span>git clone --depth=1 https://github.com/acidanthera/OpenCorePkg <br /><span class="label"><a 
 id="x1-11007r5"></a></span>source edksetup.sh <br /><span class="label"><a 
 id="x1-11008r6"></a></span>make -C BaseTools <br /><span class="label"><a 
 id="x1-11009r7"></a></span>build -a X64 -b RELEASE -t XCODE5 -p OpenCorePkg/OpenCorePkg.dsc
<figcaption class="caption" ><span class="id">Listing 1:</span><span  
class="content">Compilation Commands</span></figcaption><!--tex4ht:label?: x1-11001r -->
</div>
<!--l. 693--><p class="noindent" >For IDE usage Xcode projects are available in the root of the repositories. Another approach could be <a 
href="https://www.sublimetext.com" >Sublime Text</a> with
<a 
href="https://niosus.github.io/EasyClangComplete" >EasyClangComplete</a> plugin. Add .clang_complete file with similar content to the UDK root:
</p>
<!--l. 698-->
<a 
 id="x1-11010r2"></a>
<a 
 id="x1-11011"></a>
<div class="lstlisting" id="listing-2"><span class="label"><a 
 id="x1-11012r1"></a></span>-I/UefiPackages/MdePkg <br /><span class="label"><a 
 id="x1-11013r2"></a></span>-I/UefiPackages/MdePkg/Include <br /><span class="label"><a 
 id="x1-11014r3"></a></span>-I/UefiPackages/MdePkg/Include/X64 <br /><span class="label"><a 
 id="x1-11015r4"></a></span>-I/UefiPackages/MdeModulePkg <br /><span class="label"><a 
 id="x1-11016r5"></a></span>-I/UefiPackages/MdeModulePkg/Include <br /><span class="label"><a 
 id="x1-11017r6"></a></span>-I/UefiPackages/MdeModulePkg/Include/X64 <br /><span class="label"><a 
 id="x1-11018r7"></a></span>-I/UefiPackages/OpenCorePkg/Include/AMI <br /><span class="label"><a 
 id="x1-11019r8"></a></span>-I/UefiPackages/OpenCorePkg/Include/Acidanthera <br /><span class="label"><a 
 id="x1-11020r9"></a></span>-I/UefiPackages/OpenCorePkg/Include/Apple <br /><span class="label"><a 
 id="x1-11021r10"></a></span>-I/UefiPackages/OpenCorePkg/Include/Apple/X64 <br /><span class="label"><a 
 id="x1-11022r11"></a></span>-I/UefiPackages/OpenCorePkg/Include/Duet <br /><span class="label"><a 
 id="x1-11023r12"></a></span>-I/UefiPackages/OpenCorePkg/Include/Generic <br /><span class="label"><a 
 id="x1-11024r13"></a></span>-I/UefiPackages/OpenCorePkg/Include/Intel <br /><span class="label"><a 
 id="x1-11025r14"></a></span>-I/UefiPackages/OpenCorePkg/Include/Microsoft <br /><span class="label"><a 
 id="x1-11026r15"></a></span>-I/UefiPackages/OpenCorePkg/Include/VMware <br /><span class="label"><a 
 id="x1-11027r16"></a></span>-I/UefiPackages/OvmfPkg/Include <br /><span class="label"><a 
 id="x1-11028r17"></a></span>-I/UefiPackages/UefiCpuPkg/Include <br /><span class="label"><a 
 id="x1-11029r18"></a></span>-IInclude <br /><span class="label"><a 
 id="x1-11030r19"></a></span>-include <br /><span class="label"><a 
 id="x1-11031r20"></a></span>/UefiPackages/MdePkg/Include/Uefi.h <br /><span class="label"><a 
 id="x1-11032r21"></a></span>-fshort-wchar <br /><span class="label"><a 
 id="x1-11033r22"></a></span>-Wall <br /><span class="label"><a 
 id="x1-11034r23"></a></span>-Wextra <br /><span class="label"><a 
 id="x1-11035r24"></a></span>-Wno-unused-parameter <br /><span class="label"><a 
 id="x1-11036r25"></a></span>-Wno-missing-braces <br /><span class="label"><a 
 id="x1-11037r26"></a></span>-Wno-missing-field-initializers <br /><span class="label"><a 
 id="x1-11038r27"></a></span>-Wno-tautological-compare <br /><span class="label"><a 
 id="x1-11039r28"></a></span>-Wno-sign-compare <br /><span class="label"><a 
 id="x1-11040r29"></a></span>-Wno-varargs <br /><span class="label"><a 
 id="x1-11041r30"></a></span>-Wno-unused-const-variable <br /><span class="label"><a 
 id="x1-11042r31"></a></span>-DOC_TARGET_NOOPT=1 <br /><span class="label"><a 
 id="x1-11043r32"></a></span>-DNO_MSABI_VA_FUNCS=1
<figcaption class="caption" ><span class="id">Listing 2:</span><span  
class="content">ECC Configuration</span></figcaption><!--tex4ht:label?: x1-11010r -->
</div>
<!--l. 733--><p class="noindent" >Warning: Tool developers modifying config.plist or any other OpenCore files must ensure that their tool checks <span class="sout">for </span><span class="uwave">the
</span>opencore-version NVRAM variable (see ?? section below) and <span class="sout">warn the user </span><span class="uwave">warns users </span>if the version listed is unsupported
or prerelease. <span class="uwave">The </span>OpenCore configuration may change across <span class="sout">the releases and the tool shall ensure that it carefully
follows </span><span class="uwave">releases and such tools shall ensure they carefully follow </span>this document. Failure to do so may result in
                                                                                                  
                                                                                                  
     </p></li>
     <li 
  class="enumerate" id="x1-16004x2">Delete<br 
class="newline" />Type: plist array<br 
class="newline" />Failsafe: Empty<br 
class="newline" />Description: Remove selected tables from ACPI stack.
     <!--l. 922--><p class="noindent" >Designed to be filled with plist dict values, describing each delete entry. See <a 
href="#x1-180004">Delete Properties</a> section below.
     </p></li>
     <li 
  class="enumerate" id="x1-16006x3">Patch<br 
class="newline" />Type: plist array<br 
class="newline" />Failsafe: Empty<br 
class="newline" />Description: Perform binary patches in ACPI tables before table addition or removal.
     <!--l. 932--><p class="noindent" >Designed to be filled with plist dictionary values describing each patch entry. See <a 
href="#x1-190005">Patch Properties</a> section
     below.
     </p></li>
     <li 
  class="enumerate" id="x1-16008x4">Quirks<br 
class="newline" />Type: plist dict<br 
class="newline" />Description: Apply individual ACPI quirks described in <a 
href="#x1-200006">Quirks Properties</a> section below.
     </li></ol>
<a 
 id="x1-16009r19"></a>
<h4 class="subsectionHead"><span class="titlemark">4.3   </span> <a 
 id="x1-170003"></a>Add Properties</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-17002x1">Comment<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Empty<span class="sout">string</span><br 
class="newline" />Description: Arbitrary ASCII string used to provide human readable reference for the entry. <span class="sout">It is implementation
     defined whether </span><span class="uwave">Whether </span>this value is used <span class="uwave">is implementation defined</span>.
     </li>
     <li 
  class="enumerate" id="x1-17004x2">Enabled<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: This ACPI table will not be added unless set to true.
     </li>
     <li 
  class="enumerate" id="x1-17006x3">Path<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Empty<span class="sout">string</span><br 
class="newline" />Description:   File   paths   meant   to   be   loaded   as   ACPI   tables.   Example   values   include   DSDT.aml,
     SubDir/SSDT-8.aml, SSDT-USBX.aml, etc.
     <!--l. 968--><p class="noindent" >ACPI table load order follows the item order in the array. All ACPI tables load from OC/ACPI directory.
     </p><!--l. 971--><p class="noindent" >Note: All tables but tables with DSDT table identifier (determined by parsing data not by filename) insert new
     tables into ACPI stack. DSDT, unlike the rest, performs replacement of DSDT table.
</p>
     </li></ol>
<a 
 id="x1-17007r20"></a>
<h4 class="subsectionHead"><span class="titlemark">4.4   </span> <a 
 id="x1-180004"></a>Delete Properties</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-18002x1">All<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: If set to true, all ACPI tables matching the condition will be deleted. Otherwise only first matched
     table.
                                                                                                  
                                                                                                  
     </li>
     <li 
  class="enumerate" id="x1-18004x2">Comment<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Empty<span class="sout">string</span><br 
class="newline" />Description: Arbitrary ASCII string used to provide human readable reference for the entry. <span class="sout">It is implementation
     defined whether </span><span class="uwave">Whether </span>this value is used <span class="uwave">is implementation defined</span>.
     </li>
     <li 
  class="enumerate" id="x1-18006x3">Enabled<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: This ACPI table will not be removed unless set to true.
     </li>
     <li 
  class="enumerate" id="x1-18008x4">OemTableId<br 
class="newline" />Type: plist data, 8 bytes<br 
class="newline" />Failsafe: All zero<br 
class="newline" />Description: Match table OEM ID to be equal to this value unless all zero.
     </li>
     <li 
  class="enumerate" id="x1-18010x5">TableLength<br 
class="newline" />Type: plist integer<br 
class="newline" />Failsafe: 0<br 
class="newline" />Description: Match table size to be equal to this value unless 0.
     </li>
     <li 
  class="enumerate" id="x1-18012x6">TableSignature<br 
class="newline" />Type: plist data, 4 bytes<br 
class="newline" />Failsafe: All zero<br 
class="newline" />Description: Match table signature to be equal to this value unless all zero.
     <!--l. 1022--><p class="noindent" >Note: Make sure not to specify table signature when the sequence needs to be replaced in multiple places.
     Especially when performing different kinds of renames.
</p>
     </li></ol>
<a 
 id="x1-18013r21"></a>
<h4 class="subsectionHead"><span class="titlemark">4.5   </span> <a 
 id="x1-190005"></a>Patch Properties</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-19002x1">Comment<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Empty<span class="sout">string</span><br 
class="newline" />Description: Arbitrary ASCII string used to provide human readable reference for the entry. <span class="sout">It is implementation
     defined whether </span><span class="uwave">Whether </span>this value is used <span class="uwave">is implementation defined</span>.
     </li>
     <li 
  class="enumerate" id="x1-19004x2">Count<br 
class="newline" />Type: plist integer<br 
class="newline" />Failsafe: 0<br 
class="newline" />Description: Number of patch occurrences to apply. 0 applies the patch to all occurrences found.
     </li>
     <li 
  class="enumerate" id="x1-19006x3">Enabled<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: This ACPI patch will not be used unless set to true.
     </li>
     <li 
  class="enumerate" id="x1-19008x4">Find<br 
class="newline" />Type: plist data<br 
class="newline" />Failsafe: Empty<span class="sout">data</span><br 
class="newline" />Description: Data to find. Must <span class="uwave">be </span>equal to Replace in size <span class="uwave">if set</span>.
     </li>
     <li 
  class="enumerate" id="x1-19010x5">Limit<br 
class="newline" />Type: plist integer<br 
class="newline" />Failsafe: 0 <span class="uwave">(Search entire ACPI table)</span><br 
class="newline" />Description: Maximum number of bytes to search for. <span class="sout">Can be set to </span><span class="sout">0</span> <span class="sout">to look through the whole ACPI table.
     </span>
     </li>
     <li 
  class="enumerate" id="x1-19012x6">Mask<br 
class="newline" />Type: plist data<br 
class="newline" />Failsafe: Empty <span class="sout">data</span><span class="uwave">(Ignored)</span><br 
class="newline" />Description: Data bitwise mask used during find comparison. Allows fuzzy search by ignoring not masked (set
     to zero) bits. <span class="sout">Can be set to empty data to be ignored. Must </span><span class="uwave">Must be </span>equal to Replace in size <span class="sout">otherwise</span><span class="uwave">if set</span>.
     </li>
     <li 
  class="enumerate" id="x1-19014x7">OemTableId<br 
class="newline" />Type: plist data, 8 bytes<br 
class="newline" />Failsafe: All zero<br 
class="newline" />Description: Match table OEM ID to be equal to this value unless all zero.
     </li>
     <li 
  class="enumerate" id="x1-19016x8">Replace<br 
class="newline" />Type: plist data<br 
class="newline" />Failsafe: Empty<span class="sout">data</span><br 
class="newline" />Description: Replacement data of one or more bytes.
     </li>
     <li 
  class="enumerate" id="x1-19018x9">ReplaceMask<br 
class="newline" />Type: plist data<br 
class="newline" />Failsafe: Empty <span class="sout">data</span><span class="uwave">(Ignored)</span><br 
class="newline" />Description: Data bitwise mask used during replacement. Allows fuzzy replacement by updating masked (set
     to non-zero) bits. <span class="sout">Can be set to empty data to be ignored. Must </span><span class="uwave">Must be </span>equal to Replace in size <span class="sout">otherwise</span><span class="uwave">if
     set</span>.
     </li>
     <li 
  class="enumerate" id="x1-19020x10">Skip<br 
class="newline" />Type: plist integer<br 
class="newline" />Failsafe: 0<br 
class="newline" />Description: Number of found occurrences to be skipped before replacement is done.
     </li>
     <li 
  class="enumerate" id="x1-19022x11">TableLength<br 
class="newline" />Type: plist integer<br 
class="newline" />Failsafe: 0<br 
class="newline" />Description: Match table size to be equal to this value unless 0.
     </li>
     <li 
  class="enumerate" id="x1-19024x12">TableSignature<br 
class="newline" />Type: plist data, 4 bytes<br 
class="newline" />Failsafe: All zero<br 
class="newline" />Description: Match table signature to be equal to this value unless all zero.
     </li></ol>
<!--l. 1123--><p class="noindent" >In the majority of the cases ACPI patches are not useful and harmful:
</p>
     <ul class="itemize1">
     <li class="itemize">Avoid renaming devices with ACPI patches. This may fail or perform improper renaming of unrelated devices
     (e.g. EC and EC0), be unnecessary, or even fail to rename devices in select tables. For ACPI consistency it is much
     safer to rename devices at I/O Registry level, as done by <a 
href="https://github.com/acidanthera/WhateverGreen" >WhateverGreen</a>.
                                                                                                  
                                                                                                  
     </li>
     <li class="itemize">Try to avoid patching _OSI to support a higher level of feature sets whenever possible. Commonly this enables a
     number of hacks on APTIO firmware, which result in the need to add more patches. Modern firmware generally
     does not need it, and those that do are fine with much smaller patches. However, laptop vendors usually rely on
     this method to determine the availability of functions such as modern I2C input support, thermal adjustment
     and custom feature additions.
     </li>
     <li class="itemize">Avoid patching embedded controller event _Qxx just for enabling brightness keys. The conventional process to
     find these keys usually involves massive modification on DSDT and SSDTs and the debug kext is not stable on
     newer systems. Please switch to built-in brightness key discovery of <a 
href="https://github.com/acidanthera/BrightnessKeys" >BrightnessKeys</a> instead.
     </li>
     <li class="itemize"><span class="sout">Try to avoid hacky </span><span class="uwave">Avoid making ad hoc </span>changes such as renaming _PRW or _DSM whenever possible.</li></ul>
<!--l. 1152--><p class="noindent" >Several cases, where patching actually does make sense, include:
</p>
     <ul class="itemize1">
     <li class="itemize">Refreshing HPET (or another device) method header to avoid compatibility checks by _OSI on legacy hardware.
     _STA method  with  if ((OSFL () == Zero)) { If (HPTE) ... Return (Zero) content  may  be  forced  to
     always return 0xF by replacing A0 10 93 4F 53 46 4C 00 with A4 0A 0F A3 A3 A3 A3 A3.
     </li>
     <li class="itemize">To provide custom method implementation with in an SSDT, for instance, to inject shutdown fix on certain
     computers, the original method can be replaced with a dummy name by patching _PTS with ZPTS and adding a
     callback to original method.</li></ul>
<!--l. 1168--><p class="noindent" >Tianocore <a 
href="https://github.com/acidanthera/audk/blob/master/MdePkg/Include/IndustryStandard/AcpiAml.h" >AcpiAml.h</a> source file may help understanding ACPI opcodes.
</p><!--l. 1171--><p class="noindent" >Note: Patches of different Find and Replace lengths are unsupported as they may corrupt ACPI tables and make the system
unstable due to area relocation. If such changes are needed, the utilisation of “proxy” patching or the padding of NOP to the
remaining area might be taken into account.
<a 
 id="x1-19025r22"></a>
</p>
<h4 class="subsectionHead"><span class="titlemark">4.6   </span> <a 
 id="x1-200006"></a>Quirks Properties</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-20002x1">FadtEnableReset<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Provide reset register and flag in FADT table to enable reboot and shutdown.
     <!--l. 1187--><p class="noindent" >Mainly required on legacy hardware and few laptops. Can also fix power-button shortcuts. Not recommended
     unless required.
     </p></li>
     <li 
  class="enumerate" id="x1-20004x2">NormalizeHeaders<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description:  Cleanup  ACPI  header  fields  to  workaround  macOS  ACPI  implementation  bug  causing  boot
     crashes. Reference: <a 
href="https://alextjam.es/debugging-appleacpiplatform/" >Debugging AppleACPIPlatform on 10.13</a> by Alex James aka theracermaster. The issue is
     fixed in macOS Mojave (10.14).
     </li>
     <li 
  class="enumerate" id="x1-20006x3">RebaseRegions<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Attempt to heuristically relocate ACPI memory regions. Not recommended.
     <!--l. 1207--><p class="noindent" >ACPI   tables   are   often   generated   dynamically   by   underlying   firmware   implementation.   Among   the
     position-independent  code,  ACPI  tables  may  contain  physical  addresses  of  MMIO  areas  used  for  device
     configuration,  usually  grouped  in  regions  (e.g.  OperationRegion).  Changing  firmware  settings  or  hardware
                                                                                                  
                                                                                                  
     </li>
     <li class="itemize">CSM (Compatibility Support Module) disabled in firmware settings if present. On NVIDIA 6xx/AMD 2xx or
     older, GOP ROM may have to be flashed first. Use <a 
href="https://www.win-raid.com/t892f16-AMD-and-Nvidia-GOP-update-No-requests-DIY.html" >GopUpdate</a> (see the second post) or <a 
href="http://www.insanelymac.com/forum/topic/299614-asus-eah6450-video-bios-uefi-gop-upgrade-and-gop-uefi-binary-in-efi-for-many-ati-cards/page-1#entry2042163" >AMD UEFI GOP
     MAKER</a> in case of any potential confusion.
     </li>
     <li class="itemize">EHCI/XHCI Hand-off enabled in firmware settings only if boot stalls unless USB devices are disconnected.
     </li>
     <li class="itemize">VT-x, Hyper Threading, Execute Disable Bit enabled in firmware settings if present.
     </li>
     <li class="itemize">While it may not be required, sometimes Thunderbolt support, Intel SGX, and Intel Platform Trust may
     have to be disabled in firmware settings present.</li></ul>
<!--l. 1302--><p class="noindent" >When debugging sleep issues Power Nap and automatic power off may be (temporarily) disabled, which appear to sometimes
cause wake to black screen or boot loop issues on older platforms. The particular issues may vary, but in general ACPI tables
should be looked up first. Here is an example of a bug found in some <a 
href="http://www.insanelymac.com/forum/topic/329624-need-cmos-reset-after-sleep-only-after-login/#entry2534645" >Z68 motherboards</a>. To turn Power Nap and the others off
run the following commands in Terminal: </p><!--l. 1308-->
<div class="lstlisting" id="listing-3"><span class="label"><a 
 id="x1-22001r1"></a></span>sudo pmset autopoweroff 0 <br /><span class="label"><a 
 id="x1-22002r2"></a></span>sudo pmset powernap 0 <br /><span class="label"><a 
 id="x1-22003r3"></a></span>sudo pmset standby 0
</div>
<!--l. 1314--><p class="noindent" >Note: These settings may reset at hardware change and in certain other circumstances. To view their current state use pmset
-g command in Terminal.
<a 
 id="x1-22004r25"></a>
</p>
<h4 class="subsectionHead"><span class="titlemark">5.2   </span> <a 
 id="x1-230002"></a>Properties</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-23002x1">MmioWhitelist<br 
class="newline" />Type: plist array<br 
class="newline" />Description: Designed to be filled with plist dict values, describing addresses critical for particular firmware
     functioning when DevirtualiseMmio quirk is in use. See <a 
href="#x1-240003">MmioWhitelist Properties</a> section below.
     </li>
     <li 
  class="enumerate" id="x1-23004x2">Patch<br 
class="newline" />Type: plist array<br 
class="newline" />Failsafe: Empty<br 
class="newline" />Description: Perform binary patches in booter.
     <!--l. 1335--><p class="noindent" >Designed to be filled with plist dictionary values, describing each patch. See <a 
href="#x1-250004">Patch Properties</a> section below.
     </p></li>
     <li 
  class="enumerate" id="x1-23006x3">Quirks<br 
class="newline" />Type: plist dict<br 
class="newline" />Description: Apply individual booter quirks described in <a 
href="#x1-260005">Quirks Properties</a> section below.
     </li></ol>
<a 
 id="x1-23007r26"></a>
<h4 class="subsectionHead"><span class="titlemark">5.3   </span> <a 
 id="x1-240003"></a>MmioWhitelist Properties</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-24002x1">Address<br 
class="newline" />Type: plist integer<br 
class="newline" />Failsafe: 0<br 
class="newline" />Description: Exceptional MMIO address, which memory descriptor should be left virtualised (unchanged) by
     DevirtualiseMmio. This means that the firmware will be able to directly communicate with this memory region
     during operating system functioning, because the region this value is in will be assigned a virtual address.
     <!--l. 1359--><p class="noindent" >The  addresses  written  here  must  be  part  of  the  memory  map,  have  EfiMemoryMappedIO type  and
     EFI_MEMORY_RUNTIME attribute (highest bit) set. To find the list of the candidates the debug log can be used.
                                                                                                  
                                                                                                  
     </p></li>
     <li 
  class="enumerate" id="x1-24004x2">Comment<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Empty<span class="sout">string</span><br 
class="newline" />Description: Arbitrary ASCII string used to provide human readable reference for the entry. <span class="sout">It is implementation
     defined whether </span><span class="uwave">Whether </span>this value is used <span class="uwave">is implementation defined</span>.
     </li>
     <li 
  class="enumerate" id="x1-24006x3">Enabled<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: This address will be devirtualised unless set to true.
     </li></ol>
<a 
 id="x1-24007r27"></a>
<h4 class="subsectionHead"><span class="titlemark">5.4   </span> <a 
 id="x1-250004"></a>Patch Properties</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-25002x1">Arch<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Any<br 
class="newline" />Description: Booter patch architecture (Any, i386, x86_64).
     </li>
     <li 
  class="enumerate" id="x1-25004x2">Comment<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Empty<span class="sout">string</span><br 
class="newline" />Description: Arbitrary ASCII string used to provide human readable reference for the entry. <span class="sout">It is implementation
     defined whether </span><span class="uwave">Whether </span>this value is used <span class="uwave">is implementation defined</span>.
     </li>
     <li 
  class="enumerate" id="x1-25006x3">Count<br 
class="newline" />Type: plist integer<br 
class="newline" />Failsafe: 0<br 
class="newline" />Description: Number of patch occurrences to apply. 0 applies the patch to all occurrences found.
     </li>
     <li 
  class="enumerate" id="x1-25008x4">Enabled<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: This booter patch will not be used unless set to true.
     </li>
     <li 
  class="enumerate" id="x1-25010x5">Find<br 
class="newline" />Type: plist data<br 
class="newline" />Failsafe: Empty<span class="sout">data</span><br 
class="newline" />Description: Data to find. <span class="sout">This must </span><span class="uwave">Must be </span>equal to Replace in size <span class="uwave">if set</span>.
     </li>
     <li 
  class="enumerate" id="x1-25012x6">Identifier<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: <span class="sout">Empty string</span><span class="uwave">Any</span> <span class="uwave">(Match any booter)</span><br 
class="newline" />Description:  Apple for  macOS  booter  (generally  boot.efi);  or  a  name  with  <span class="sout">suffix  (e.g.  </span><span class="uwave">a  suffix,  such  as
     </span>bootmgfw.efi<span class="sout">) </span><span class="uwave">, </span>for a specific booter<span class="sout">; or </span><span class="sout">Any</span> <span class="sout">/ empty string (failsafe) to match any booter</span>.
     </li>
     <li 
  class="enumerate" id="x1-25014x7">Limit<br 
class="newline" />Type: plist integer<br 
class="newline" />Failsafe: 0 <span class="uwave">(Search the entire booter)</span><br 
class="newline" />Description: Maximum number of bytes to search for. <span class="sout">Can be set to </span><span class="sout">0</span> <span class="sout">to look through the whole booter. </span>
     </li>
                                                                                                  
                                                                                                  
     <li 
  class="enumerate" id="x1-25016x8">Mask<br 
class="newline" />Type: plist data<br 
class="newline" />Failsafe: Empty <span class="sout">data</span><span class="uwave">(Ignored)</span><br 
class="newline" />Description: Data bitwise mask used during find comparison. Allows fuzzy search by ignoring not masked (set
     to zero) bits. <span class="sout">Can be set to empty data to be ignored. Must </span><span class="uwave">Must be </span>equal to Find in size <span class="sout">otherwise</span><span class="uwave">if set</span>.
     </li>
     <li 
  class="enumerate" id="x1-25018x9">Replace<br 
class="newline" />Type: plist data<br 
class="newline" />Failsafe: Empty<span class="sout">data</span><br 
class="newline" />Description: Replacement data of one or more bytes.
     </li>
     <li 
  class="enumerate" id="x1-25020x10">ReplaceMask<br 
class="newline" />Type: plist data<br 
class="newline" />Failsafe: Empty <span class="sout">data</span><span class="uwave">(Ignored)</span><br 
class="newline" />Description: Data bitwise mask used during replacement. Allows fuzzy replacement by updating masked (set
     to non-zero) bits. <span class="sout">Can be set to empty data to be ignored. Must </span><span class="uwave">Must be </span>equal to Replace in size <span class="sout">otherwise</span><span class="uwave">if
     set</span>.
     </li>
     <li 
  class="enumerate" id="x1-25022x11">Skip<br 
class="newline" />Type: plist integer<br 
class="newline" />Failsafe: 0<br 
class="newline" />Description: Number of found occurrences to be skipped before replacement is done.
     </li></ol>
<a 
 id="x1-25023r28"></a>
<h4 class="subsectionHead"><span class="titlemark">5.5   </span> <a 
 id="x1-260005"></a>Quirks Properties</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-26002x1">AllowRelocationBlock<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Allows booting macOS through a relocation block.
     <!--l. 1476--><p class="noindent" >Relocation block is a scratch buffer allocated in lower 4 GB to be used for loading the kernel and related structures
     by EfiBoot on firmwares where lower memory is otherwise occupied by the (assumed to be) non-runtime data.
     Right before kernel startup the relocation block is copied back to lower addresses. Similarly all the other addresses
     pointing to relocation block are also carefully adjusted. Relocation block can be used when:
</p>
         <ul class="itemize1">
         <li class="itemize">No better slide exists (all the memory is used)
         </li>
         <li class="itemize">slide=0 is forced (by an argument or safe mode)
         </li>
         <li class="itemize">KASLR (slide) is unsupported (this is macOS 10.7 or older)</li></ul>
     <!--l. 1490--><p class="noindent" >This quirk requires ProvideCustomSlide to also be enabled and generally needs AvoidRuntimeDefrag to work correctly.
     Hibernation is not supported when booting with a relocation block (but relocation block is not always used when the
     quirk is enabled).
     </p><!--l. 1495--><p class="noindent" >Note: While this quirk is required to run older macOS versions on platforms with used lower memory it is not compatible
     with some hardware and macOS 11. In <span class="sout">this case one may try to use </span><span class="uwave">such cases, consider using </span>EnableSafeModeSlide
     instead.
     </p></li>
     <li 
  class="enumerate" id="x1-26004x2">AvoidRuntimeDefrag<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Protect from boot.efi runtime memory defragmentation.
                                                                                                  
                                                                                                  
     
     
      
     
      
      
     
      
     
      
     
     
      
     
     
      
     
     
      
     
     
                                                                                                  
                                                                                                  
      
     
     
      
     
          
      
     
     
      
     
     
      
     
     
      
     
     
      
     
     
      
     
     
      
     
     
      
     
     
      
     
     
         
         
         
         
      
     
     
      
     
     
     
      
     
     
      
     
     
      
     
     
      
                                                                                                  
                                                                                                  
     
     
      
     
     
      
     
     
      
     
     
      
     
     
      
     
     
      
     
     
      
     
     
      
     
     
      
     
     
      
     
     
      
     
     
      
     
     
      
     
     
      
     
     
      
     
     
      
     
     
      
     
     
                                                                                                  
                                                                                                  
      
     
     
      
     
     
      
     
     
      
     
     
      
     
     
           
      
     
     
      
     
     
      
     
     
      
     
     
                                                                                                  
                                                                                                  
      
     
     
      
     
     
      
     
     
      
     
       
      
     
     
      
     
     
      
     
     
      
     
     
      
     
     
      
     
                                                                                                  
                                                                                                  
     </li>
     <li 
  class="enumerate" id="x1-56008x4"> ystemMemoryStatus<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Auto<br 
class="newline" />Description: Indicates whether system memory is upgradable in PlatformFeature. This controls the visibility of the
     Memory tab in About This Mac.
     <!--l. 4846--><p class="noindent" >Valid values:
</p>
         <ul class="itemize1">
         <li class="itemize">Auto — use the original PlatformFeature value.
         </li>
         <li class="itemize">Upgradable — explicitly unset PT_FEATURE_HAS_SOLDERED_SYSTEM_MEMORY (0x2) in PlatformFeature.
         </li>
         <li class="itemize">Soldered — explicitly set PT_FEATURE_HAS_SOLDERED_SYSTEM_MEMORY (0x2) in PlatformFeature.</li></ul>
     <!--l. 4857--><p class="noindent" >Note: On certain Mac models (namely MacBookPro10,x and any MacBookAir), SPMemoryReporter.spreporter will ignore
     PT_FEATURE_HAS_SOLDERED_SYSTEM_MEMORY and assume that system memory is non-upgradable.
     </p></li>
     <li 
  class="enumerate" id="x1-56010x5">ProcessorType<br 
class="newline" />Type: plist integer<br 
class="newline" />Failsafe: 0 (Automatic)<br 
class="newline" />Description: Refer to SMBIOS ProcessorType.
     </li>
     <li 
  class="enumerate" id="x1-56012x6">SystemProductName<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: <span class="uwave">Empty (</span>OEM specified or not installed<span class="uwave">)</span><br 
class="newline" />Description: Refer to SMBIOS SystemProductName.
     </li>
     <li 
  class="enumerate" id="x1-56014x7">SystemSerialNumber<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: <span class="uwave">Empty (</span>OEM specified or not installed<span class="uwave">)</span><br 
class="newline" />Description: Refer to SMBIOS SystemSerialNumber.
     <!--l. 4878--><p class="noindent" ><span class="uwave">Specify </span><span class="uwave">OEM</span> <span class="uwave">value to extract current value from SMBIOS and use it throughout the sections. This feature can only be
     used on Mac-compatible firmwares. </span>
     </p></li>
     <li 
  class="enumerate" id="x1-56016x8">SystemUUID<br 
class="newline" />Type: plist string, GUID<br 
class="newline" />Failsafe: <span class="uwave">Empty (</span>OEM specified or not installed<span class="uwave">)</span><br 
class="newline" />Description: Refer to SMBIOS SystemUUID.
     <!--l. 4888--><p class="noindent" ><span class="uwave">Specify </span><span class="uwave">OEM</span> <span class="uwave">value to extract current value from SMBIOS and use it throughout the sections. Since not all firmwares have
     valid (and unique) values, this feature is not applicable to some setups, and may provide unexpected results. It is highly
     recommended to specify the UUID explicitly. Refer to </span><span class="uwave">UseRawUuidEncoding</span> <span class="uwave">to determine how SMBIOS value is parsed.
     </span>
     </p></li>
     <li 
  class="enumerate" id="x1-56018x9">MLB<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: <span class="uwave">Empty (</span>OEM specified or not installed<span class="uwave">)</span><br 
class="newline" />Description: Refer to SMBIOS BoardSerialNumber.
     <!--l. 4901--><p class="noindent" ><span class="uwave">Specify </span><span class="uwave">OEM</span> <span class="uwave">value to extract current value from SMBIOS and use it throughout the sections. This feature can only be
     used on Mac-compatible firmwares. </span>
     </p></li>
     <li 
  class="enumerate" id="x1-56020x10">ROM<br 
class="newline" />Type: plist data, 6 bytes<br 
class="newline" />Failsafe: <span class="uwave">Empty (</span>OEM specified or not installed<span class="uwave">)</span><br 
class="newline" />Description: Refer to 4D1EDE05-38C7-4A6A-9CC6-4BCCA8B38C14:ROM.
     </li></ol>
<a 
 id="x1-56021r59"></a>
<h4 class="subsectionHead"><span class="titlemark">10.3   </span> <a 
 id="x1-570003"></a>DataHub Properties</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-57002x1">PlatformName<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: <span class="sout">Not installed</span><span class="uwave">Empty (Not installed)</span><br 
class="newline" />Description: Sets name in gEfiMiscSubClassGuid. Value found on Macs is platform in ASCII.
     </li>
     <li 
  class="enumerate" id="x1-57004x2">SystemProductName<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: <span class="sout">Not installed</span><span class="uwave">Empty (Not installed)</span><br 
class="newline" />Description:   Sets   Model  in   gEfiMiscSubClassGuid.   Value   found   on   Macs   is   equal   to   SMBIOS
     SystemProductName in Unicode.
     </li>
     <li 
  class="enumerate" id="x1-57006x3">SystemSerialNumber<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: <span class="sout">Not installed</span><span class="uwave">Empty (Not installed)</span><br 
class="newline" />Description: Sets SystemSerialNumber in gEfiMiscSubClassGuid. Value found on Macs is equal to SMBIOS
     SystemSerialNumber in Unicode.
     </li>
     <li 
  class="enumerate" id="x1-57008x4">SystemUUID<br 
class="newline" />Type: plist string, GUID<br 
class="newline" />Failsafe: <span class="sout">Not installed</span><span class="uwave">Empty (Not installed)</span><br 
class="newline" />Description: Sets system-id in gEfiMiscSubClassGuid. Value found on Macs is equal to SMBIOS SystemUUID
     (with swapped byte order).
     </li>
     <li 
  class="enumerate" id="x1-57010x5">BoardProduct<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: <span class="sout">Not installed</span><span class="uwave">Empty (Not installed)</span><br 
class="newline" />Description:  Sets  board-id in  gEfiMiscSubClassGuid.  Value  found  on  Macs  is  equal  to  SMBIOS
     BoardProduct in ASCII.
     </li>
     <li 
  class="enumerate" id="x1-57012x6">BoardRevision<br 
class="newline" />Type: plist data, 1 byte<br 
class="newline" />Failsafe: 0<br 
class="newline" />Description: Sets board-rev in gEfiMiscSubClassGuid. Value found on Macs seems to correspond to internal
     board revision (e.g. 01).
     </li>
     <li 
  class="enumerate" id="x1-57014x7">StartupPowerEvents<br 
class="newline" />Type: plist integer, 64-bit<br 
class="newline" />Failsafe: 0<br 
class="newline" />Description: Sets StartupPowerEvents in gEfiMiscSubClassGuid. Value found on Macs is power management
     state bitmask, normally 0. Known bits read by X86PlatformPlugin.kext:
         <ul class="itemize1">
         <li class="itemize">0x00000001 — Shutdown cause was a PWROK event (Same as GEN_PMCON_2 bit 0)
         </li>
         <li class="itemize">0x00000002 — Shutdown cause was a SYS_PWROK event (Same as GEN_PMCON_2 bit 1)
         </li>
                                                                                                  
                                                                                                  
         <li class="itemize">0x00000004 — Shutdown cause was a THRMTRIP# event (Same as GEN_PMCON_2 bit 3)
         </li>
         <li class="itemize">0x00000008 — Rebooted due to a SYS_RESET# event (Same as GEN_PMCON_2 bit 4)
         </li>
         <li class="itemize">0x00000010 — Power Failure (Same as GEN_PMCON_3 bit 1 PWR_FLR)
         </li>
         <li class="itemize">0x00000020 — Loss of RTC Well Power (Same as GEN_PMCON_3 bit 2 RTC_PWR_STS)
         </li>
         <li class="itemize">0x00000040 — General Reset Status (Same as GEN_PMCON_3 bit 9 GEN_RST_STS)
         </li>
         <li class="itemize">0xffffff80 — SUS Well Power Loss (Same as GEN_PMCON_3 bit 14)
         </li>
         <li class="itemize">0x00010000 — Wake cause was a ME Wake event (Same as PRSTS bit 0, ME_WAKE_STS)
         </li>
         <li class="itemize">0x00020000 — Cold Reboot was ME Induced event (Same as PRSTS bit 1 ME_HRST_COLD_STS)
         </li>
         <li class="itemize">0x00040000 — Warm Reboot was ME Induced event (Same as PRSTS bit 2 ME_HRST_WARM_STS)
         </li>
         <li class="itemize">0x00080000 — Shutdown was ME Induced event (Same as PRSTS bit 3 ME_HOST_PWRDN)
         </li>
         <li class="itemize">0x00100000 — Global reset ME Watchdog Timer event (Same as PRSTS bit 6)
         </li>
         <li class="itemize">0x00200000 — Global reset PowerManagement Watchdog Timer event (Same as PRSTS bit 15)</li></ul>
     </li>
     <li 
  class="enumerate" id="x1-57016x8">InitialTSC<br 
class="newline" />Type: plist integer, 64-bit<br 
class="newline" />Failsafe: 0<br 
class="newline" />Description: Sets InitialTSC in gEfiProcessorSubClassGuid. Sets initial TSC value, normally 0.
     </li>
     <li 
  class="enumerate" id="x1-57018x9">FSBFrequency<br 
class="newline" />Type: plist integer, 64-bit<br 
class="newline" />Failsafe: 0 (Automatic)<br 
class="newline" />Description: Sets FSBFrequency in gEfiProcessorSubClassGuid.
     <!--l. 5026--><p class="noindent" >Sets CPU FSB frequency. This value equals to CPU nominal frequency divided by CPU maximum bus ratio and is
     specified in Hz. Refer to MSR_NEHALEM_PLATFORM_INFO (CEh) MSR value to determine maximum bus ratio on modern
     Intel CPUs.
     </p><!--l. 5031--><p class="noindent" >Note: This value is not used on Skylake and newer but is still provided to follow suit.
     </p></li>
     <li 
  class="enumerate" id="x1-57020x10">ARTFrequency<br 
class="newline" />Type: plist integer, 64-bit<br 
class="newline" />Failsafe: 0 (Automatic)<br 
class="newline" />Description: Sets ARTFrequency in gEfiProcessorSubClassGuid.
     <!--l. 5040--><p class="noindent" >This value contains CPU ART frequency, also known as crystal clock frequency. Its existence is exclusive to the Skylake
     generation and newer. The value is specified in Hz, and is normally 24 MHz for client Intel segment, 25 MHz for
     server Intel segment, and 19.2 MHz for Intel Atom CPUs. macOS till 10.15 inclusive assumes 24 MHz by
     default.
     </p><!--l. 5045--><p class="noindent" >Note: On Intel Skylake X ART frequency may be a little less (approx. 0.25%) than 24 or 25 MHz due to special
     EMI-reduction circuit as described in <a 
href="https://github.com/acidanthera/bugtracker/issues/448#issuecomment-524914166" >Acidanthera Bugtracker</a>.
     </p></li>
     <li 
  class="enumerate" id="x1-57022x11">DevicePathsSupported<br 
class="newline" />Type: plist integer, 32-bit<br 
class="newline" />Failsafe: <span class="sout">Not installed</span><span class="uwave">0</span> <span class="uwave">(Not installed)</span><br 
class="newline" />Description: Sets DevicePathsSupported in gEfiMiscSubClassGuid. Must be set to 1 for AppleACPIPlatform.kext to
                                                                                                  
                                                                                                  
     append SATA device paths to Boot#### and efi-boot-device-data variables. Set to 1 on all modern
     Macs.
     </li>
     <li 
  class="enumerate" id="x1-57024x12">SmcRevision<br 
class="newline" />Type: plist data, 6 bytes<br 
class="newline" />Failsafe: <span class="sout">Not installed</span><span class="uwave">Empty (Not installed)</span><br 
class="newline" />Description: Sets REV in gEfiMiscSubClassGuid. Custom property read by VirtualSMC or FakeSMC to generate SMC
     REV key.
     </li>
     <li 
  class="enumerate" id="x1-57026x13">SmcBranch<br 
class="newline" />Type: plist data, 8 bytes<br 
class="newline" />Failsafe: <span class="sout">Not installed</span><span class="uwave">Empty (Not installed)</span><br 
class="newline" />Description: Sets RBr in gEfiMiscSubClassGuid. Custom property read by VirtualSMC or FakeSMC to generate SMC
     RBr key.
     </li>
     <li 
  class="enumerate" id="x1-57028x14">SmcPlatform<br 
class="newline" />Type: plist data, 8 bytes<br 
class="newline" />Failsafe: <span class="sout">Not installed</span><span class="uwave">Empty (Not installed)</span><br 
class="newline" />Description: Sets RPlt in gEfiMiscSubClassGuid. Custom property read by VirtualSMC or FakeSMC to generate SMC
     RPlt key.</li></ol>
<a 
 id="x1-57029r60"></a>
<h4 class="subsectionHead"><span class="titlemark">10.4   </span> <a 
 id="x1-580004"></a>Memory Properties</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-58002x1">DataWidth<br 
class="newline" />Type: plist integer, 16-bit<br 
class="newline" />Failsafe: 0xFFFF (unknown)<br 
class="newline" />SMBIOS: Memory Device (Type 17) — Data Width<br 
class="newline" />Description: Specifies the data width, in bits, of the memory. A DataWidth of 0 and a TotalWidth of 8 indicates
     that the device is being used solely to provide 8 error-correction bits.
     </li>
     <li 
  class="enumerate" id="x1-58004x2">Devices<br 
class="newline" />Type: plist array<br 
class="newline" />Failsafe: Empty<br 
class="newline" />Description: Specifies the custom memory devices to be added.
     <!--l. 5102--><p class="noindent" >Designed to be filled with plist dictionary values, describing each memory device. See ?? section below. This
     should include all memory slots, even if unpopulated.
     </p></li>
     <li 
  class="enumerate" id="x1-58006x3">ErrorCorrection<br 
class="newline" />Type: plist integer, 8-bit<br 
class="newline" />Failsafe: 0x03<br 
class="newline" />SMBIOS: Physical Memory Array (Type 16) — Memory Error Correction<br 
class="newline" />Description: Specifies the primary hardware error correction or detection method supported by the memory.
         <ul class="itemize1">
         <li class="itemize">0x01 — Other
         </li>
         <li class="itemize">0x02 — Unknown
         </li>
         <li class="itemize">0x03 — None
         </li>
         <li class="itemize">0x04 — Parity
         </li>
         <li class="itemize">0x05 — Single-bit ECC
         </li>
                                                                                                  
                                                                                                  
     
     
     
     
     
     
     
      
     
     
     
      
     
     
     
      
     
     
     
      
     
     
      
     
     
      
     
     
      
     
                                                                                                  
                                                                                                  
     
      
     
     
      
     
     
      
     
     
     
      
     
     
                                                                                                              
      
     
     
     
      
     
     
      
      
     
     
     
      
     
     
     
      
     
     
                                                                                                  
                                                                                                  
     
      
     
     
     
      
     
     
     
      
     
     
      
      
     
     
     
      
     
     
     
      
     
     
     
      
     
     
     
      
     
     
         
      
     
     
     
      
     
     
      
      
     
     
     
      
     
     
     
      
     
     
     
      
     
     
     
      
     
     
     
      
     
     
     
      
     
                                                                                                  
                                                                                                  
     
      
     
     
     
     
      
     
     
     
     
      
     
     
                                                                                                  
                                                                                                  
     <!--l. 6254--><p class="noindent" > imilarly to KeyForgetThreshold, this option works around the sequential nature of key submission. To be able
     to recognise simultaneously pressed keys in the situation when all keys arrive sequentially, we are required to set
     a timeout within which we assume the keys were pressed together.
     </p><!--l. 6259--><p class="noindent" >Holding multiple keys results in reports every 2 and 1 milliseconds for VMware and APTIO V respectively.
     Pressing keys one after the other results in delays of at least 6 and 10 milliseconds for the same platforms. The
     recommended value for this option is 2 milliseconds, but it may be decreased for faster platforms and increased
     for slower.
     </p></li>
     <li 
  class="enumerate" id="x1-71008x4">KeySupport<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Enable internal keyboard input translation to AppleKeyMapAggregator protocol.
     <!--l. 6272--><p class="noindent" >This   option   activates   the   internal   keyboard   interceptor   driver,   based   on   AppleGenericInput  aka
     (AptioInputFix), to fill AppleKeyMapAggregator database for input functioning. In case a separate driver is
     used, such as OpenUsbKbDxe, this option should never be enabled.
     </p></li>
     <li 
  class="enumerate" id="x1-71010x5">KeySupportMode<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Auto<br 
class="newline" />Description: Set internal keyboard input translation to AppleKeyMapAggregator protocol mode.
         <ul class="itemize1">
         <li class="itemize">Auto — Performs automatic choice as available with the following preference: AMI, V2, V1.
         </li>
         <li class="itemize">V1 — Uses UEFI standard legacy input protocol EFI_SIMPLE_TEXT_INPUT_PROTOCOL.
         </li>
         <li class="itemize">V2 — Uses UEFI standard modern input protocol EFI_SIMPLE_TEXT_INPUT_EX_PROTOCOL.
         </li>
         <li class="itemize">AMI — Uses APTIO input protocol AMI_EFIKEYCODE_PROTOCOL.</li></ul>
     <!--l. 6293--><p class="noindent" >Note: Currently V1, V2, and AMI unlike Auto only do filtering of the particular specified protocol. This may change in the
     future versions.
     </p></li>
     <li 
  class="enumerate" id="x1-71012x6">KeySwap<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Swap Command and Option keys during submission.
     <!--l. 6302--><p class="noindent" >This option may be useful for keyboard layouts with Option key situated to the right of Command key.
     </p></li>
     <li 
  class="enumerate" id="x1-71014x7">PointerSupport<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Enable internal pointer driver.
     <!--l. 6311--><p class="noindent" >This option implements standard UEFI pointer protocol (EFI_SIMPLE_POINTER_PROTOCOL) through select
     OEM protocols. The option may be useful on Z87 ASUS boards, where EFI_SIMPLE_POINTER_PROTOCOL is
     broken.
     </p></li>
     <li 
  class="enumerate" id="x1-71016x8">PointerSupportMode<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: <span class="sout">empty string</span><span class="uwave">Empty</span><br 
class="newline" />Description: Set OEM protocol used for internal pointer driver.
     <!--l. 6321--><p class="noindent" >Currently the only supported variant is ASUS, using specialised protocol available on select Z87 and Z97 ASUS boards.
     More details can be found in <a 
href="https://github.com/LongSoft/UEFITool/pull/116" >LongSoft/UefiTool#116</a>. The value of this property cannot be empty if PointerSupport is
                                                                                                  
                                                                                                  
     enabled.
     </p></li>
     <li 
  class="enumerate" id="x1-71018x9">TimerResolution<br 
class="newline" />Type: plist integer<br 
class="newline" />Failsafe: 0<br 
class="newline" />Description: Set architecture timer resolution.
     <!--l. 6332--><p class="noindent" >This option allows to update firmware architecture timer period with the specified value in 100 nanosecond
     units. Setting a lower value generally improves performance and responsiveness of the interface and input
     handling.
     </p><!--l. 6336--><p class="noindent" >The recommended value is 50000 (5 milliseconds) or slightly higher. Select ASUS Z87 boards use 60000 for the interface.
     Apple boards use 100000. In case of issues, this option can be left as 0.
</p>
     </li></ol>
<a 
 id="x1-71019r75"></a>
<h4 class="subsectionHead"><span class="titlemark">11.10   </span> <a 
 id="x1-7200010"></a>Output Properties</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-72002x1">TextRenderer<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: BuiltinGraphics<br 
class="newline" />Description: Chooses renderer for text going through standard console output.
     <!--l. 6353--><p class="noindent" >Currently two renderers are supported: Builtin and System. System renderer uses firmware services for text
     rendering. Builtin bypassing firmware services and performs text rendering on its own. Different renderers
     support a different set of options. It is recommended to use Builtin renderer, as it supports HiDPI mode and
     uses full screen resolution.
     </p><!--l. 6360--><p class="noindent" >UEFI firmware generally supports ConsoleControl with two rendering modes: Graphics and Text. Some types
     of firmware do not support ConsoleControl and rendering modes. OpenCore and macOS expect text to only be
     shown in Graphics mode and graphics to be drawn in any mode. Since this is not required by UEFI specification,
     exact behaviour varies.
     </p><!--l. 6367--><p class="noindent" >Valid values are combinations of text renderer and rendering mode:
</p>
         <ul class="itemize1">
         <li class="itemize">BuiltinGraphics — Switch to Graphics mode and use Builtin renderer with custom ConsoleControl.
         </li>
         <li class="itemize">BuiltinText — Switch to Text mode and use Builtin renderer with custom ConsoleControl.
         </li>
         <li class="itemize">SystemGraphics — Switch to Graphics mode and use System renderer with custom ConsoleControl.
         </li>
         <li class="itemize">SystemText — Switch to Text mode and use System renderer with custom ConsoleControl.
         </li>
         <li class="itemize">SystemGeneric — Use System renderer with system ConsoleControl assuming it behaves correctly.</li></ul>
     <!--l. 6387--><p class="noindent" >The use of BuiltinGraphics is generally straightforward. For most platforms it is necessary to enable
     ProvideConsoleGop, set Resolution to Max. BuiltinText variant is an alternative BuiltinGraphics for some very old
     and buggy laptop firmware, which can only draw in Text mode.
     </p><!--l. 6393--><p class="noindent" >The use of System protocols is more complicated. In general the preferred setting is SystemGraphics or SystemText.
     Enabling ProvideConsoleGop, setting Resolution to Max, enabling ReplaceTabWithSpace is useful on almost all
     platforms. SanitiseClearScreen, IgnoreTextInGraphics, and ClearScreenOnModeSwitch are more specific, and their
     use depends on the firmware.
     </p><!--l. 6401--><p class="noindent" >Note: Some Macs, namely MacPro5,1, may have broken console output with newer GPUs, and thus only
     BuiltinGraphics may work for them.
     </p></li>
                                                                                                  
                                                                                                  
     <li 
  class="enumerate" id="x1-72004x2">ConsoleMode<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Empty <span class="sout">string</span><span class="uwave">(Maintain current console mode)</span><br 
class="newline" />Description: Sets console output mode as specified with the WxH (e.g. 80x24) formatted string.
     <!--l. 6412--><p class="noindent" >Set to <span class="sout">empty string not to change console mode. Set to </span>Max to <span class="sout">try to use </span><span class="uwave">attempt using the </span>largest available console
     mode. <span class="sout">Currently </span><span class="uwave">This option is currently ignored as the </span>Builtin text renderer <span class="sout">supports only </span><span class="uwave">only supports </span>one console
     mode<span class="sout">, so this option is ignored</span>.
     </p><!--l. 6418--><p class="noindent" >Note: This field is best left empty on most types of firmware.
     </p></li>
     <li 
  class="enumerate" id="x1-72006x3">Resolution<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Empty <span class="sout">string</span><span class="uwave">(Maintain current screen resolution)</span><br 
class="newline" />Description: Sets console output screen resolution.
         <ul class="itemize1">
         <li class="itemize">Set to WxH@Bpp (e.g. 1920x1080@32) or WxH (e.g. 1920x1080) formatted string to request custom resolution
         from GOP if available.
         </li>
         <li class="itemize">Set to <span class="sout">empty string not to change screen resolution. </span>
         </li>
         <li class="itemize"><span class="sout">Set to </span>Max to <span class="sout">try to use </span><span class="uwave">attempt using the </span>largest available screen resolution.</li></ul>
     <!--l. 6438--><p class="noindent" >On HiDPI screens APPLE_VENDOR_VARIABLE_GUID UIScale NVRAM variable may need to be set to 02 to enable HiDPI
     scaling in Builtin text renderer, FileVault 2 UEFI password interface, and boot screen logo. Refer to ?? section for more
     details.
     </p><!--l. 6444--><p class="noindent" >Note: This will fail when console handle has no GOP protocol. When the firmware does not provide it, it can be added
     with ProvideConsoleGop set to true.
     </p></li>
     <li 
  class="enumerate" id="x1-72008x4">ForceResolution<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Forces Resolution to be set in cases where the desired resolution is not available by default, such as on
     legacy Intel GMA and first generation Intel HD Graphics (Ironlake/Arrandale). Setting Resolution to Max will try to
     pull the largest available resolution from the connected display’s EDID.
     <!--l. 6458--><p class="noindent" >Note: This option depends on the <a 
href="https://github.com/acidanthera/OpenCorePkg/blob/master/Include/Acidanthera/Protocol/OcForceResolution.h" >OC_FORCE_RESOLUTION_PROTOCOL</a> protocol being present. This protocol is
     currently only supported by OpenDuetPkg. The OpenDuetPkg implementation currently only supports Intel
     iGPUs.
     </p></li>
     <li 
  class="enumerate" id="x1-72010x5">ClearScreenOnModeSwitch<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Some types of firmware only clear part of the screen when switching from graphics to text mode, leaving a
     fragment of previously drawn images visible. This option fills the entire graphics screen with black colour before switching
     to text mode.
     <!--l. 6471--><p class="noindent" >Note: This option only applies to System renderer.
     </p></li>
     <li 
  class="enumerate" id="x1-72012x6">DirectGopRendering<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Use builtin graphics output protocol renderer for console.
     <!--l. 6479--><p class="noindent" >On some types of firmware, such as on the MacPro5,1, this may provide better performance or fix rendering issues.
     However, this option is not recommended unless there is an obvious benefit as it may result in issues such as slower
     scrolling.
                                                                                                  
                                                                                                  
     </p></li>
     <li 
  class="enumerate" id="x1-72014x7">IgnoreTextInGraphics<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Some types of firmware output text onscreen in both graphics and text mode. This is typically unexpected
     as random text may appear over graphical images and cause UI corruption. Setting this option to true will discard all
     text output when console control is in a different mode from Text.
     <!--l. 6492--><p class="noindent" >Note: This option only applies to the System renderer.
     </p></li>
     <li 
  class="enumerate" id="x1-72016x8">ReplaceTabWithSpace<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Some types of firmware do not print tab characters or everything that follows them, causing difficulties in
     using the UEFI Shell’s builtin text editor to edit property lists and other documents. This option makes the console
     output spaces instead of tabs.
     <!--l. 6503--><p class="noindent" >Note: This option only applies to System renderer.
     </p></li>
     <li 
  class="enumerate" id="x1-72018x9">ProvideConsoleGop<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Ensure GOP (Graphics Output Protocol) on console handle.
     <!--l. 6511--><p class="noindent" >macOS bootloader requires GOP or UGA (for 10.4 EfiBoot) to be present on console handle, yet the exact location of the
     graphics protocol is not covered by the UEFI specification. This option will ensure GOP and UGA, if present, are
     available on the console handle.
     </p><!--l. 6516--><p class="noindent" >Note: This option will also replace broken GOP protocol on console handle, which may be the case on MacPro5,1 with
     newer GPUs.
     </p></li>
     <li 
  class="enumerate" id="x1-72020x10">ReconnectOnResChange<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Reconnect console controllers after changing screen resolution.
     <!--l. 6525--><p class="noindent" >On some types of firmware, the controllers that produce the console protocols (simple text out) must be reconnected
     when the screen resolution is changed via GOP. Otherwise they will not produce text based on the new
     resolution.
     </p><!--l. 6529--><p class="noindent" >Note: On several boards this logic may result in black screen when launching OpenCore from Shell and thus it is
     optional. In versions prior to 0.5.2 this option was mandatory and not configurable. Please do not use this unless
     required.
     </p></li>
     <li 
  class="enumerate" id="x1-72022x11">SanitiseClearScreen<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Some types of firmware reset screen resolutions to a failsafe value (such as 1024x768) on the
     attempts to clear screen contents when large display (e.g. 2K or 4K) is used. This option attempts to apply a
     workaround.
     <!--l. 6542--><p class="noindent" >Note: This option only applies to <span class="uwave">the </span>System renderer. On all known affected systems<span class="uwave">, </span>ConsoleMode <span class="sout">had to </span><span class="uwave">must </span>be set
     to <span class="uwave">an </span>empty string for this <span class="uwave">option </span>to work.
     </p></li>
     <li 
  class="enumerate" id="x1-72024x12">UgaPassThrough<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Provide UGA protocol instances on top of GOP protocol <span class="uwave">instances</span>.
                                                                                                  
                                                                                                  
     <!--l. 6552--><p class="noindent" >Some types of firmware do not implement the legacy UGA protocol but this may be required for screen output by older
     EFI applications such as EfiBoot from 10.4.
</p>
     </li></ol>
<a 
 id="x1-72025r76"></a>
<h4 class="subsectionHead"><span class="titlemark">11.11   </span> <a 
 id="x1-7300011"></a>ProtocolOverrides Properties</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-73002x1">AppleAudio<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: <span class="sout">Reinstalls </span><span class="uwave">Replaces </span>Apple audio protocols with builtin versions.
     <!--l. 6569--><p class="noindent" >Apple audio protocols allow macOS bootloader and OpenCore to play sounds and signals for screen reading or
     audible error reporting. Supported protocols are beep generation and VoiceOver. VoiceOver protocol is specific to
     Gibraltar machines (T2) and is not supported before macOS High Sierra (10.13). Instead older macOS versions
     use AppleHDA protocol, which is currently not implemented.
     </p><!--l. 6576--><p class="noindent" >Only one set of audio protocols can be available at a time, so in order to get audio playback in OpenCore user
     interface on Mac system implementing some of these protocols this setting should be enabled.
     </p><!--l. 6580--><p class="noindent" >Note: Backend audio driver needs to be configured in UEFI Audio section for these protocols to be able to stream
     audio.
     </p></li>
     <li 
  class="enumerate" id="x1-73004x2">AppleBootPolicy<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: <span class="sout">Reinstalls </span><span class="uwave">Replaces the </span>Apple Boot Policy protocol with a builtin version. This may be used to
     ensure APFS compatibility on VMs or legacy Macs.
     <!--l. 6590--><p class="noindent" >Note: Some Macs, namely MacPro5,1, do have APFS compatibility, but their Apple Boot Policy protocol contains
     recovery detection issues, thus using this option is advised on them as well.
     </p></li>
     <li 
  class="enumerate" id="x1-73006x3">AppleDebugLog<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: <span class="sout">Reinstalls </span><span class="uwave">Replaces the </span>Apple Debug Log protocol with a builtin version.
     </li>
     <li 
  class="enumerate" id="x1-73008x4">AppleEvent<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: <span class="sout">Reinstalls </span><span class="uwave">Replaces the </span>Apple Event protocol with a builtin version. This may be used to ensure
     <span class="sout">File Vault </span><span class="uwave">FileVault </span>2 compatibility on VMs or legacy Macs.
     </li>
     <li 
  class="enumerate" id="x1-73010x5">AppleFramebufferInfo<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: <span class="sout">Reinstalls </span><span class="uwave">Replaces the </span>Apple Framebuffer Info protocol with a builtin version. This may be used
     to override framebuffer information on VMs or legacy Macs to improve compatibility with legacy EfiBoot such
     as the one in macOS 10.4.
     </li>
     <li 
  class="enumerate" id="x1-73012x6">AppleImageConversion<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: <span class="sout">Reinstalls </span><span class="uwave">Replaces the </span>Apple Image Conversion protocol with a builtin version.
     </li>
                                                                                                  
                                                                                                  
     <li 
  class="enumerate" id="x1-73014x7">AppleImg4Verification<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: <span class="sout">Reinstalls </span><span class="uwave">Replaces the </span>Apple IMG4 Verification protocol with a builtin version. This protocol is
     used to verify im4m manifest files used by Apple Secure Boot.
     </li>
     <li 
  class="enumerate" id="x1-73016x8">AppleKeyMap<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: <span class="sout">Reinstalls </span><span class="uwave">Replaces </span>Apple Key Map protocols with builtin versions.
     </li>
     <li 
  class="enumerate" id="x1-73018x9">AppleRtcRam<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: <span class="sout">Reinstalls </span><span class="uwave">Replaces the </span>Apple RTC RAM protocol with <span class="uwave">a </span>builtin version.
     <!--l. 6645--><p class="noindent" >Note: Builtin version of Apple RTC RAM protocol may filter out I/O attempts to select RTC memory addresses.
     The list of addresses can be specified in 4D1FDA02-38C7-4A6A-9CC6-4BCCA8B30102:rtc-blacklist variable as
     a data array.
     </p></li>
     <li 
  class="enumerate" id="x1-73020x10">AppleSecureBoot<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: <span class="sout">Reinstalls </span><span class="uwave">Replaces the </span>Apple Secure Boot protocol with a builtin version.
     </li>
     <li 
  class="enumerate" id="x1-73022x11">AppleSmcIo<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: <span class="sout">Reinstalls </span><span class="uwave">Replaces the </span>Apple SMC I/O protocol with a builtin version.
     <!--l. 6664--><p class="noindent" >This protocol replaces legacy VirtualSmc UEFI driver, and is compatible with any SMC kernel extension.
     However, in case FakeSMC kernel extension is used, manual NVRAM key variable addition may be needed.
     </p></li>
     <li 
  class="enumerate" id="x1-73024x12">AppleUserInterfaceTheme<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: <span class="sout">Reinstalls </span><span class="uwave">Replaces the </span>Apple User Interface Theme protocol with a builtin version.
     </li>
     <li 
  class="enumerate" id="x1-73026x13">DataHub<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: <span class="sout">Reinstalls </span><span class="uwave">Replaces the </span>Data Hub protocol with a builtin version. <span class="sout">This will delete all previous
     properties </span>
     <!--l. 6682--><p class="noindent" ><span class="uwave">Note</span><span class="uwave">: This will discard all previous entries </span>if the protocol was already installed<span class="uwave">, so all properties required for safe
     operation of the system must be specified in your configuration</span>.
     </p></li>
     <li 
  class="enumerate" id="x1-73028x14">DeviceProperties<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: <span class="sout">Reinstalls </span><span class="uwave">Replaces the </span>Device Property protocol with a builtin version. This <span class="sout">will delete all previous
     properties if it was already installed. This </span>may be used to ensure full compatibility on VMs or legacy Macs.
     <!--l. 6694--><p class="noindent" ><span class="uwave">Note</span><span class="uwave">: This will discard all previous entries if the protocol was already installed, so all properties required for safe
     operation of the system must be specified in your configuration. </span>
                                                                                                  
                                                                                                  
     </p></li>
     <li 
  class="enumerate" id="x1-73030x15">FirmwareVolume<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: <span class="sout">Forcibly wraps </span><span class="uwave">Wraps </span>Firmware Volume protocols or installs <span class="sout">new </span><span class="uwave">a new version </span>to support custom
     cursor images for <span class="sout">File Vault </span><span class="uwave">FileVault </span>2. <span class="sout">Should be set </span><span class="uwave">Set </span>to true to ensure <span class="sout">File Vault </span><span class="uwave">FileVault </span>2 compatibility
     on <span class="sout">everything but </span><span class="uwave">anything other than </span>VMs and legacy Macs.
     <!--l. 6708--><p class="noindent" >Note: Several virtual machines including VMware may have corrupted cursor <span class="sout">image </span><span class="uwave">images </span>in HiDPI mode and
     thus<span class="uwave">, </span>may also require <span class="sout">this setting to be enabled</span><span class="uwave">enabling this setting</span>.
     </p></li>
     <li 
  class="enumerate" id="x1-73032x16">HashServices<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: <span class="sout">Forcibly reinstalls </span><span class="uwave">Replaces </span>Hash Services protocols with builtin versions. <span class="sout">Should be set </span><span class="uwave">Set </span>to
     true to ensure <span class="sout">File Vault </span><span class="uwave">FileVault </span>2 compatibility on platforms <span class="sout">providing broken </span><span class="uwave">with flawed </span>SHA-1 <span class="sout">hashing.
     Can be diagnosed by </span><span class="uwave">hash implementations. This can be determined by an </span>invalid cursor size <span class="sout">with </span><span class="uwave">when </span>UIScale
     <span class="uwave">is </span>set to 02<span class="sout">, in general platforms prior to </span><span class="uwave">. Platforms earlier than </span>APTIO V (Haswell and older) are <span class="uwave">typically
     </span>affected.
     </li>
     <li 
  class="enumerate" id="x1-73034x17">OSInfo<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description:  <span class="sout">Forcibly reinstalls </span><span class="uwave">Replaces the </span>OS Info protocol with <span class="sout">builtin versions</span><span class="uwave">a builtin version</span>.  This
     protocol is <span class="sout">generally used </span><span class="uwave">typically used by the firmware and other applications </span>to receive notifications from
     <span class="sout">macOS bootloader, by the firmware or by other applications</span><span class="uwave">the macOS bootloader</span>.
     </li>
     <li 
  class="enumerate" id="x1-73036x18">UnicodeCollation<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: <span class="sout">Forcibly reinstalls </span><span class="uwave">Replaces </span>unicode collation services with builtin <span class="sout">version. Should be set </span><span class="uwave">versions.
     Set </span>to true to ensure UEFI Shell compatibility on platforms <span class="sout">providing broken unicode collation . In general
     legacy </span><span class="uwave">with flawed unicode collation implementations. Legacy </span>Insyde and APTIO platforms on Ivy Bridge<span class="sout">and
     earlier are </span><span class="uwave">, and earlier, are typically </span>affected.
     </li></ol>
<a 
 id="x1-73037r77"></a>
<h4 class="subsectionHead"><span class="titlemark">11.12   </span> <a 
 id="x1-7400012"></a>Quirks Properties</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-74002x1">DisableSecurityPolicy<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Disable platform security policy.
     <!--l. 6753--><p class="noindent" >Note: This setting disables various security features of the firmware, defeating the purpose of any kind of Secure
     Boot. Do NOT enable if you use UEFI Secure Boot.
     </p></li>
     <li 
  class="enumerate" id="x1-74004x2">ExitBootServicesDelay<br 
class="newline" />Type: plist integer<br 
class="newline" />Failsafe: 0<br 
class="newline" />Description: Adds delay in microseconds after EXIT_BOOT_SERVICES event.
     <!--l. 6764--><p class="noindent" >This is a very rough workaround to circumvent the Still waiting for root device message on some APTIO
     IV firmware (ASUS Z87-Pro) particularly when using FileVault 2. It appears that for some reason, they execute
     code in parallel to EXIT_BOOT_SERVICES, which results in the SATA controller being inaccessible from macOS.
     A better approach <span class="sout">should be found in some future</span><span class="uwave">is required and Acidanthera is open to suggestions</span>. Expect 3
                                                                                                  
                                                                                                  
     to 5 seconds to be adequate when this quirk is needed.
     </p></li>
     <li 
  class="enumerate" id="x1-74006x3">IgnoreInvalidFlexRatio<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Some types of firmware (such as APTIO IV) may contain invalid values in the MSR_FLEX_RATIO
     (0x194) MSR register. These values may cause macOS boot failures on Intel platforms.
     <!--l. 6779--><p class="noindent" >Note: While the option is not expected to harm unaffected firmware, its use is <span class="sout">only recommended when it is
     </span><span class="uwave">recommended only when </span>specifically required.
     </p></li>
     <li 
  class="enumerate" id="x1-74008x4">ReleaseUsbOwnership<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Attempt to detach USB controller ownership from the firmware driver. While most types of
     firmware manage to do <span class="sout">that </span><span class="uwave">this </span>properly, or at least have an option for this, some do not. As a result, the
     operating system may freeze upon boot. Not recommended unless <span class="uwave">specifically </span>required.
     </li>
     <li 
  class="enumerate" id="x1-74010x5">RequestBootVarRouting<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Request redirect of all Boot prefixed variables from EFI_GLOBAL_VARIABLE_GUID to <br 
class="newline" />OC_VENDOR_VARIABLE_GUID.
     <!--l. 6798--><p class="noindent" >This quirk requires OC_FIRMWARE_RUNTIME protocol implemented in OpenRuntime.efi. The quirk lets default
     boot entry preservation at times when the firmware deletes incompatible boot entries. In summary, this quirk is
     required to reliably use the <a 
href="https://support.apple.com/HT202796" >Startup Disk</a> preference pane in firmware that is not compatible with macOS boot
     entries by design.
     </p><!--l. 6805--><p class="noindent" >By redirecting Boot prefixed variables to a separate GUID namespace with the help of RequestBootVarRouting quirk we
     achieve multiple goals: </p>
         <ul class="itemize1">
         <li class="itemize">Operating systems are jailed and only controlled by OpenCore boot environment to enhance security.
         </li>
         <li class="itemize">Operating systems do not mess with OpenCore boot priority, and guarantee fluent updates and hibernation
         wakes for cases that require reboots with OpenCore in the middle.
         </li>
         <li class="itemize">Potentially incompatible boot entries, such as macOS entries, are not deleted or <span class="sout">anyhow corrupted </span><span class="uwave">corrupted
         in any way</span>.</li></ul>
     </li>
     <li 
  class="enumerate" id="x1-74012x6">TscSyncTimeout<br 
class="newline" />Type: plist integer<br 
class="newline" />Failsafe: 0<br 
class="newline" />Description: Attempts to perform TSC synchronisation with a specified timeout.
     <!--l. 6824--><p class="noindent" >The primary purpose of this quirk is to enable early bootstrap TSC synchronisation on some server and laptop models
     when running a debug XNU kernel. For the debug kernel the TSC needs to be kept in sync across the
     cores before any kext could kick in rendering all other solutions problematic. The timeout is specified in
     microseconds and depends on the amount of cores present on the platform, the recommended starting value is
     500000.
     </p><!--l. 6830--><p class="noindent" >This is an experimental quirk, which should only be used for the aforementioned problem. In all other cases<span class="uwave">, </span>the quirk
     may render the operating system unstable and is not recommended. The recommended solution in the other cases is to
     install a kernel driver such as <a 
href="https://github.com/RehabMan/VoodooTSCSync" >VoodooTSCSync</a>, <a 
href="https://github.com/interferenc/TSCAdjustReset" >TSCAdjustReset</a>, or <a 
href="https://github.com/lvs1974/CpuTscSync" >CpuTscSync</a> (a more specialised variant of
     VoodooTSCSync for newer laptops).
     </p><!--l. 6838--><p class="noindent" >Note: <span class="sout">The reason this </span><span class="uwave">This </span>quirk cannot replace the kernel driver <span class="sout">is </span>because it cannot operate in ACPI S3 <span class="sout">mode </span>(sleep
     wake) <span class="uwave">mode </span>and because the UEFI firmware <span class="uwave">only </span>provides very limited multicore support <span class="sout">preventing the precise update
                                                                                                  
                                                                                                  
     </span><span class="uwave">which prevents precise updates </span>of the MSR registers.
     </p></li>
     <li 
  class="enumerate" id="x1-74014x7">UnblockFsConnect<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Some types of firmware block partition handles by opening them in By Driver mode, resulting in <span class="sout">being
     unable </span><span class="uwave">an inability </span>to install File System protocols.
     <!--l. 6850--><p class="noindent" >Note: <span class="sout">The quirk is mostly relevant for select HP laptops with no drives listed</span><span class="uwave">This quirk is useful in cases where
     unsuccessful drive detection results in an absence of boot entries</span>.
</p>
     </li></ol>
<a 
 id="x1-74015r78"></a>
<h4 class="subsectionHead"><span class="titlemark">11.13   </span> <a 
 id="x1-7500013"></a>ReservedMemory Properties</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-75002x1">Address<br 
class="newline" />Type: plist integer<br 
class="newline" />Failsafe: 0<br 
class="newline" />Description: Start address of the reserved memory region, which should be allocated as reserved effectively
     marking the memory of this type inaccessible to the operating system.
     <!--l. 6866--><p class="noindent" >The addresses written here must be part of the memory map, have <span class="uwave">a </span>EfiConventionalMemory type, and <span class="uwave">be
     </span>page-aligned (4 KBs).
     </p><!--l. 6869--><p class="noindent" >Note: Some types of firmware may not allocate memory areas used by S3 (sleep) and S4 (hibernation) code unless
     CSM is enabled causing wake failures. After comparing the memory maps with CSM disabled and enabled, these
     areas can be found in the lower memory and can be fixed up by doing the reservation. See Sample.plist for
     more details.
     </p></li>
     <li 
  class="enumerate" id="x1-75004x2">Comment<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Empty<span class="sout">string</span><br 
class="newline" />Description: Arbitrary ASCII string used to provide human readable reference for the entry. <span class="sout">It is implementation
     defined whether </span><span class="uwave">Whether </span>this value is used <span class="uwave">is implementation defined</span>.
     </li>
     <li 
  class="enumerate" id="x1-75006x3">Size<br 
class="newline" />Type: plist integer<br 
class="newline" />Failsafe: 0<br 
class="newline" />Description: Size of the reserved memory region, must be page-aligned (4 KBs).
     </li>
     <li 
  class="enumerate" id="x1-75008x4">Type<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Reserved<br 
class="newline" />Description: Memory region type matching the UEFI specification memory descriptor types. Mapping:
         <ul class="itemize1">
         <li class="itemize">Reserved — EfiReservedMemoryType
         </li>
         <li class="itemize">LoaderCode — EfiLoaderCode
         </li>
         <li class="itemize">LoaderData — EfiLoaderData
         </li>
         <li class="itemize">BootServiceCode — EfiBootServicesCode
         </li>
         <li class="itemize">BootServiceData — EfiBootServicesData
         </li>
                                                                                                  
                                                                                                  
         <li class="itemize">RuntimeCode — EfiRuntimeServicesCode
         </li>
         <li class="itemize">RuntimeData — EfiRuntimeServicesData
         </li>
         <li class="itemize">Available — EfiConventionalMemory
         </li>
         <li class="itemize">Persistent — EfiPersistentMemory
         </li>
         <li class="itemize">UnusableMemory — EfiUnusableMemory
         </li>
         <li class="itemize">ACPIReclaimMemory — EfiACPIReclaimMemory
         </li>
         <li class="itemize">ACPIMemoryNVS — EfiACPIMemoryNVS
         </li>
         <li class="itemize">MemoryMappedIO — EfiMemoryMappedIO
         </li>
         <li class="itemize">MemoryMappedIOPortSpace — EfiMemoryMappedIOPortSpace
         </li>
         <li class="itemize">PalCode — EfiPalCode</li></ul>
     </li>
     <li 
  class="enumerate" id="x1-75010x5">Enabled<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: This region will not be reserved unless set to true.
     </li></ol>
<a 
 id="x1-75011r65"></a>
<h3 class="sectionHead"><span class="titlemark">12   </span> <a 
 id="x1-7600012"></a>Troubleshooting</h3>
<a 
 id="x1-76001r79"></a>
<h4 class="subsectionHead"><span class="titlemark">12.1   </span> <a 
 id="x1-770001"></a>Legacy Apple OS</h4>
<!--l. 6925--><p class="noindent" >Older operating systems may be more complicated to install, but sometimes can be necessary to use for all kinds of reasons.
While a compatible board identifier and CPUID are the obvious requirements for proper functioning of an older operating
system, there are many other less obvious things to consider. This section tries to cover a common set of issues relevant to
installing older macOS operating systems.
</p><!--l. 6932--><p class="noindent" >While newer operating systems can be downloaded over the internet, older operating systems did not have installation media
for every minor release<span class="sout">, so to get a compatible distribution one may have to </span><span class="uwave">. For compatible distributions of such, </span>download
a device-specific image and <span class="sout">mod </span><span class="uwave">modify </span>it if necessary. <span class="sout">To get the </span><span class="uwave">Visit this archived Apple Support </span><a 
href="https://web.archive.org/web/20170705003629/https://support.apple.com/en-us/HT204319" >article</a>
<span class="uwave">for a </span>list of the bundled device-specific builds for legacy operating systems<span class="sout">one can visit this archived Apple
Support </span><span class="sout">. Since it is not always </span><span class="uwave">. However, as this may not always be </span>accurate, the latest versions are listed
below.
<a 
 id="x1-77001r62"></a>
</p>
<h5 class="subsubsectionHead"><span class="titlemark">12.1.1   </span> <a 
 id="x1-780001"></a>macOS 10.8 and 10.9</h5>
     <ul class="itemize1">
     <li class="itemize">Disk images on these systems use Apple Partitioning Scheme and require OpenPartitionDxe driver to run DMG
     recovery and installation (included in OpenDuet). It is possible to set DmgLoading to Disabled to run the
     recovery without DMG loading avoiding the need for OpenPartitionDxe.
     </li>
     <li class="itemize">Cached  kernel  images  often  do  not  contain  family  drivers  for  networking  (IONetworkingFamily)  or  audio
     (IOAudioFamily) requiring the use of Force loading in order to inject networking or audio drivers.</li></ul>
<a 
 id="x1-78001r82"></a>
<h5 class="subsubsectionHead"><span class="titlemark">12.1.2   </span> <a 
 id="x1-790002"></a>macOS 10.7</h5>
     <ul class="itemize1">
                                                                                                  
                                                                                                  
     <a 
href="https://forums.macrumors.com/threads/opencore-on-the-mac-pro.2207814" >MacRumors.com</a>.
     </p></li>
     <li 
  class="enumerate" id="x1-86016x8">Why <span class="sout">do </span><span class="uwave">must </span>Find&#x0026;Replace patches <span class="sout">must </span><span class="uwave">be </span>equal in <span class="sout">length</span><span class="uwave">size</span>?
     <!--l. 7372--><p class="noindent" >For machine code (x86 code) it is not possible to do differently sized replacements due to <a 
href="https://en.wikipedia.org/w/index.php?title=Relative_addressing" >relative addressing</a>. For ACPI
     code this is risky, and is technically equivalent to ACPI table replacement, thus not implemented. More detailed
     explanation can be found on <a 
href="https://applelife.ru/posts/819790" >AppleLife.ru</a> or in the ACPI section of this document.
     </p></li>
     <li 
  class="enumerate" id="x1-86018x9">How can I decide which Booter quirks to use?
     <!--l. 7381--><p class="noindent" >These quirks originate from AptioMemoryFix driver but provide a wider set of changes specific to modern systems. Note,
     that OpenRuntime driver is required for most configurations. To get a configuration similar to AptioMemoryFix the
     following set of quirks should be enabled: </p>
         <ul class="itemize1">
         <li class="itemize">ProvideConsoleGop (UEFI quirk)
         </li>
         <li class="itemize">AvoidRuntimeDefrag
         </li>
         <li class="itemize">DiscardHibernateMap
         </li>
         <li class="itemize">EnableSafeModeSlide
         </li>
         <li class="itemize">EnableWriteUnprotector
         </li>
         <li class="itemize">ForceExitBootServices
         </li>
         <li class="itemize">ProtectMemoryRegions
         </li>
         <li class="itemize">ProvideCustomSlide
         </li>
         <li class="itemize">RebuildAppleMemoryMap
         </li>
         <li class="itemize">SetupVirtualMap</li></ul>
     <!--l. 7399--><p class="noindent" >However, as of today, such set is strongly discouraged as some of these quirks are not necessary to be enabled or need
     additional quirks. For example, DevirtualiseMmio and ProtectUefiServices are often required, while
     DiscardHibernateMap and ForceExitBootServices are rarely necessary.
     </p><!--l. 7405--><p class="noindent" >Unfortunately for some quirks such as RebuildAppleMemoryMap, EnableWriteUnprotector, ProtectMemoryRegions,
     SetupVirtualMap, and SyncRuntimePermissions there is no definite approach even on similar systems, so trying all
     their combinations may be required for optimal setup. Refer to individual quirk descriptions in this document for more
     details.
</p>
     </li></ol>
 
</body> 
</html>
                                                                                                  


</body>
</html>